<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="744.09448819"
   height="1052.3622047"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.5 r10040"
   sodipodi:docname="request_diagram_simple.svg">
  <defs
     id="defs4">
    <marker
       inkscape:stockid="Arrow2Lend"
       orient="auto"
       refY="0.0"
       refX="0.0"
       id="Arrow2Lend"
       style="overflow:visible;">
      <path
         id="path3818"
         style="fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round;"
         d="M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z "
         transform="scale(1.1) rotate(180) translate(1,0)" />
    </marker>
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.47797233"
     inkscape:cx="109.47974"
     inkscape:cy="526.18109"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="true"
     inkscape:window-width="1268"
     inkscape:window-height="709"
     inkscape:window-x="0"
     inkscape:window-y="1"
     inkscape:window-maximized="0">
    <inkscape:grid
       type="xygrid"
       id="grid2985" />
  </sodipodi:namedview>
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <path
       style="fill:none;stroke:#000000;stroke-width:2.09165001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
       d="m 208.21045,132.36218 0,700"
       id="path2987"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot3761"
       style="font-size:22px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(117.40625,-817.96279)"><flowRegion
         id="flowRegion3763"><rect
           id="rect3765"
           width="225.9545"
           height="83.686852"
           x="58.580799"
           y="905.91022"
           style="font-size:22px" /></flowRegion><flowPara
         id="flowPara3767">Client</flowPara></flowRoot>    <path
       style="fill:none;stroke:#000000;stroke-width:2.09165001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;display:inline"
       d="m 454.10522,132.36218 0,700"
       id="path2989"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot3769"
       style="font-size:28px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(278.84375,-790.81387)"><flowRegion
         id="flowRegion3771"><rect
           id="rect3773"
           width="410.06558"
           height="102.5164"
           x="117.1616"
           y="876.61981"
           style="font-size:28px" /></flowRegion><flowPara
         id="flowPara3775"
         style="font-size:22px">Exit Proxy</flowPara></flowRoot>    <path
       style="fill:none;stroke:#000000;stroke-width:2.09165001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
       d="m 718,132.36218 0,700"
       id="path2991"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot3777"
       style="font-size:28px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(606.38965,-780.4999)"><flowRegion
         id="flowRegion3779"><rect
           id="rect3781"
           width="493.75244"
           height="100.42422"
           x="83.686852"
           y="868.2511"
           style="font-size:28px" /></flowRegion><flowPara
         id="flowPara3783"
         style="font-size:22px">CDN</flowPara></flowRoot>    <path
       style="fill:none;stroke:#000000;stroke-width:2.1428473;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Lend)"
       d="m 203.98289,332.36226 252.01711,0"
       id="path3785"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:2.18257546;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Lend);display:inline"
       d="m 458,478.36218 262,0"
       id="path3787"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:2.17422915;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Lend)"
       d="m 720,614.36218 -260,0"
       id="path3789"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <path
       style="fill:none;stroke:#000000;stroke-width:2.0889318;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;marker-end:url(#Arrow2Lend);display:inline"
       d="m 456,764.36218 -240,0"
       id="path3791"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0" />
    <flowRoot
       xml:space="preserve"
       id="flowRoot3004"
       style="font-size:18px;font-style:italic;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans;-inkscape-font-specification:Sans Italic"
       transform="translate(-42.3125,-624.22905)"><flowRegion
         id="flowRegion3006"><rect
           id="rect3008"
           width="200.00821"
           height="137.9413"
           x="52.304283"
           y="786.65643"
           style="font-size:18px;font-style:italic;-inkscape-font-specification:Sans Italic" /></flowRegion><flowPara
         id="flowPara3010"
         style="font-size:20px">Generate session key (skey), append encrypted session key as header, encrypt URL</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3012"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(-24.484375,-497.41655)"><flowRegion
         id="flowRegion3014"><rect
           id="rect3016"
           width="138.08331"
           height="89.963364"
           x="33.474743"
           y="631.83575"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3018">(1)</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3041"
       style="font-size:28px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(108.75,-400.29679)"><flowRegion
         id="flowRegion3043"><rect
           id="rect3045"
           width="491.66025"
           height="135.99113"
           x="119.25377"
           y="652.75745"
           style="font-size:28px" /></flowRegion><flowPara
         id="flowPara3047">GET {URL}<flowSpan
   style="font-size:65.00091553%;baseline-shift:sub"
   id="flowSpan3051">skey</flowSpan>,</flowPara><flowPara
         id="flowPara3049">{skey}<flowSpan
   style="font-size:65%;baseline-shift:sub"
   id="flowSpan3092">PK<flowSpan
   style="font-size:;baseline-shift:baseline"
   id="flowSpan3094">exit</flowSpan></flowSpan></flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3072"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(380.34375,-484.35405)"><flowRegion
         id="flowRegion3074"><rect
           id="rect3076"
           width="382.86734"
           height="133.89897"
           x="37.659084"
           y="834.77637"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3078">(2)</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3080"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(194.46803,-481.2603)"><flowRegion
         id="flowRegion3082"><rect
           id="rect3084"
           width="510.48981"
           height="133.89897"
           x="39.751255"
           y="855.69806"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3086"
         style="font-style:italic;-inkscape-font-specification:Sans Italic">Decrypt {skey}<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3114">PK<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:super;-inkscape-font-specification:Sans Italic"
   id="flowSpan3116">-1</flowSpan>exit</flowSpan>,</flowPara><flowPara
         id="flowPara3088"
         style="font-style:italic;-inkscape-font-specification:Sans Italic">decrypt {URL}<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3122">skey</flowSpan></flowPara></flowRoot>    <text
       xml:space="preserve"
       style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="470"
       y="462.36218"
       id="text3124"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3126"
         x="470"
         y="462.36218"
         style="font-size:28px">GET HMAC<tspan
   style="font-size:65.00091553%;baseline-shift:sub"
   id="tspan3132">k</tspan>(URL)</tspan></text>
    <flowRoot
       xml:space="preserve"
       id="flowRoot3134"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(589.9375,-340.35405)"><flowRegion
         id="flowRegion3136"><rect
           id="rect3138"
           width="384.95953"
           height="142.26765"
           x="92.055534"
           y="834.77637"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3140">(3)</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3142"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(423.51271,-360.3853)"><flowRegion
         id="flowRegion3144"><rect
           id="rect3146"
           width="458.18552"
           height="102.5164"
           x="58.580795"
           y="880.80414"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3148"
         style="font-style:italic;-inkscape-font-specification:Sans Italic">Retrieve {content<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3150">URL</flowSpan>}<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3152">k</flowSpan></flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3154"
       style="font-size:28px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(431.40625,-266.42179)"><flowRegion
         id="flowRegion3156"><rect
           id="rect3158"
           width="594.17664"
           height="135.99113"
           x="58.580795"
           y="836.86853"
           style="font-size:28px" /></flowRegion><flowPara
         id="flowPara3160">{content<flowSpan
   style="font-size:65.00091553%;baseline-shift:sub"
   id="flowSpan3162">URL</flowSpan>}<flowSpan
   style="font-size:65.00091553%;baseline-shift:sub"
   id="flowSpan3164">k</flowSpan></flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3166"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(342.84375,-210.91655)"><flowRegion
         id="flowRegion3168"><rect
           id="rect3170"
           width="458.18552"
           height="152.7285"
           x="117.16159"
           y="847.32941"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3172">(4)</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3174"
       style="font-size:20px;font-style:italic;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans;-inkscape-font-specification:Sans Italic"
       transform="translate(379.58789,-222.66655)"><flowRegion
         id="flowRegion3176"><rect
           id="rect3178"
           width="454.00119"
           height="156.91284"
           x="81.594681"
           y="887.08063"
           style="font-size:20px;font-style:italic;-inkscape-font-specification:Sans Italic" /></flowRegion><flowPara
         id="flowPara3180">Decrypt {content<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3184">URL</flowSpan>}<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3186">k</flowSpan>,</flowPara><flowPara
         id="flowPara3182">encrypt {content<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3188">URL</flowSpan>}<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3190">skey</flowSpan></flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3192"
       style="font-size:28px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(150.96875,-168.45304)"><flowRegion
         id="flowRegion3194"><rect
           id="rect3196"
           width="566.97845"
           height="112.97725"
           x="69.041656"
           y="882.8963"
           style="font-size:28px" /></flowRegion><flowPara
         id="flowPara3198">{content<flowSpan
   style="font-size:65.00091553%;baseline-shift:sub"
   id="flowSpan3200">URL</flowSpan>}<flowSpan
   style="font-size:65.00091553%;baseline-shift:sub"
   id="flowSpan3202">skey</flowSpan></flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3204"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       transform="translate(-21.869141,-153.0103)"><flowRegion
         id="flowRegion3206"><rect
           id="rect3208"
           width="223.86234"
           height="98.332054"
           x="60.67297"
           y="895.44934"
           style="font-size:20px" /></flowRegion><flowPara
         id="flowPara3210">(5)</flowPara></flowRoot>    <flowRoot
       xml:space="preserve"
       id="flowRoot3212"
       style="font-size:20px;font-style:italic;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans;-inkscape-font-specification:Sans Italic"
       transform="translate(-81.34375,-106.29155)"><flowRegion
         id="flowRegion3214"><rect
           id="rect3216"
           width="395.42038"
           height="117.16159"
           x="121.34594"
           y="878.71198"
           style="font-size:20px;font-style:italic;-inkscape-font-specification:Sans Italic" /></flowRegion><flowPara
         id="flowPara3218">Decrypt </flowPara><flowPara
         id="flowPara3224">{content<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3220">URL</flowSpan>}<flowSpan
   style="font-size:65.00091553%;font-style:italic;baseline-shift:sub;-inkscape-font-specification:Sans Italic"
   id="flowSpan3222">skey</flowSpan></flowPara></flowRoot>  </g>
</svg>
